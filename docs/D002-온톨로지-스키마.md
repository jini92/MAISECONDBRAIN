# D002-온톨로지 스키마 설계

**버전:** 1.0  
**작성일:** 2026-02-20  

---

## 1. 엔티티 타입 정의

Obsidian의 YAML frontmatter `type:` 필드로 분류.

### 1.1 엔티티 타입 목록

| 타입 | 설명 | 아이콘 | 예시 |
|------|------|--------|------|
| `person` | 사람, 조직 | 👤 | 동료, 멘토, 회사, 팀 |
| `concept` | 개념, 아이디어, 이론 | 💡 | GraphRAG, 온톨로지, DDD |
| `project` | 프로젝트 | 🚀 | MAISECONDBRAIN, MAIOSS |
| `tool` | 도구, 기술, 프레임워크 | 🔧 | Obsidian, NetworkX, Python |
| `insight` | 인사이트, 교훈, 원칙 | ✨ | "옵시디언이 개인용 최적 RAG" |
| `source` | 출처 (책, 영상, 논문, 블로그) | 📚 | YouTube 영상, 논문, 블로그 글 |
| `event` | 이벤트, 회의, 컨퍼런스 | 📅 | 주간 리뷰, 미팅 메모 |
| `decision` | 결정사항, 정책 | ⚖️ | "Neo4j 대신 NetworkX 사용" |
| `note` | 일반 메모 (분류 전) | 📝 | 자유 메모, 스크랩 |

---

## 2. YAML Frontmatter 스키마

### 2.1 공통 필드 (모든 엔티티)

```yaml
---
type: <entity_type>         # 필수: person, concept, project, tool, insight, source, event, decision, note
tags: [tag1, tag2]          # 선택: 카테고리/도메인 분류
created: YYYY-MM-DD         # 필수: 생성일
updated: YYYY-MM-DD         # 선택: 마지막 수정일
related:                    # 선택: 명시적 관계
  - "[[관련 노트1]]"
  - "[[관련 노트2]]"
importance: high|medium|low # 선택: 중요도
status: active|archived     # 선택: 상태
---
```

### 2.2 엔티티별 추가 필드

#### Person

```yaml
---
type: person
role: engineer              # 역할
organization: "[[회사명]]"  # 소속
contact: email@example.com  # 연락처 (선택)
first_met: 2026-01-15       # 만난 날
---
```

#### Concept

```yaml
---
type: concept
domain: [ai, knowledge-management]  # 도메인
source: "[[출처 노트]]"             # 처음 접한 곳
supports: ["[[관련 개념]]"]          # 이 개념을 뒷받침하는 것
contradicts: ["[[반대 개념]]"]       # 상충하는 개념
---
```

#### Project

```yaml
---
type: project
status: active              # active, paused, completed
local_path: C:\TEST\MAIOSS  # 로컬 경로
github: https://github.com/...
tech_stack: [python, networkx, obsidian]
uses: ["[[Python]]", "[[NetworkX]]"]   # 사용 도구
---
```

#### Tool

```yaml
---
type: tool
category: framework         # language, framework, service, library
url: https://...
used_in: ["[[MAISECONDBRAIN]]", "[[MAIOSS]]"]  # 사용 프로젝트
alternatives: ["[[Neo4j]]"] # 대안
---
```

#### Insight

```yaml
---
type: insight
source: "[[YouTube_평범한사업가_74]]"  # 인사이트 출처
applied_to: ["[[MAISECONDBRAIN]]"]     # 적용한 곳
confidence: high            # 확신도
---
```

#### Source

```yaml
---
type: source
source_type: video          # book, video, article, paper, podcast
url: https://youtube.com/...
author: "[[저자명]]"
consumed: 2026-02-20        # 소비일
rating: 4                   # 1-5 평점
key_takeaways:              # 핵심 요점
  - "옵시디언이 개인용 최적 RAG 시스템"
  - "YAML Property로 온톨로지 구현 가능"
---
```

#### Event

```yaml
---
type: event
event_date: 2026-02-20
participants: ["[[지니]]", "[[MAIBOT]]"]
decisions: ["[[결정사항 노트]]"]       # 이 이벤트에서 내린 결정
action_items:
  - "PRD 작성"
  - "온톨로지 스키마 설계"
---
```

#### Decision

```yaml
---
type: decision
decided: 2026-02-20         # 결정일
context: "[[관련 프로젝트]]" # 맥락
alternatives:               # 검토한 대안들
  - "Neo4j 사용"
  - "NetworkX 인메모리"
chosen: "NetworkX 인메모리"  # 최종 선택
rationale: "별도 DB 불필요, 볼트가 source of truth"
---
```

---

## 3. 관계 타입 정의

### 3.1 `[[위키링크]]`를 통한 관계

본문에서 `[[노트명]]`으로 연결하면 자동으로 `wiki_link` 관계 생성.

### 3.2 YAML을 통한 명시적 관계

| 관계 필드 | 의미 | 방향 | 예시 |
|----------|------|------|------|
| `related` | 일반 관련 | 양방향 | 폭넓은 연결 |
| `uses` | 사용한다 | A → B | 프로젝트가 도구를 사용 |
| `used_in` | 사용된다 | A ← B | 도구가 프로젝트에서 사용 |
| `source` | 출처 | A → B | 인사이트의 출처 |
| `derived_from` | 파생 | A → B | 이 개념은 B에서 파생 |
| `supports` | 뒷받침 | A → B | A가 B를 뒷받침 |
| `contradicts` | 상충 | A ↔ B | A와 B가 충돌 |
| `applied_to` | 적용 | A → B | 인사이트를 프로젝트에 적용 |
| `alternatives` | 대안 | A ↔ B | 서로 대체 가능 |
| `participants` | 참여 | A → B | 이벤트에 참여한 사람 |
| `decisions` | 결정 | A → B | 이벤트에서 나온 결정 |

---

## 4. 태그 체계

### 4.1 도메인 태그

```
#ai, #ml, #graphrag, #knowledge-management
#business, #startup, #monetization
#dev, #python, #typescript, #obsidian
#vietnam, #beauty, #manufacturing
```

### 4.2 상태 태그

```
#todo       — 처리 필요
#review     — 복습 대상
#important  — 중요
#archived   — 보관
```

### 4.3 프로젝트 태그

```
#maisecondbrain, #maioss, #maibeauty, #maiax, #maitok
```

---

## 5. 실제 Obsidian 노트 예시

### 예시 1: Concept 노트

```markdown
---
type: concept
tags: [ai, graphrag, knowledge-management]
created: 2026-02-20
source: "[[YouTube_평범한사업가_74]]"
related:
  - "[[온톨로지]]"
  - "[[지식그래프]]"
  - "[[벡터 검색]]"
supports: ["[[개인용 세컨드브레인]]"]
importance: high
---

# GraphRAG

Graph-based Retrieval Augmented Generation.
단순 벡터 검색을 넘어, 지식 간의 **관계(그래프)**를 활용하여 
맥락적 검색과 멀티홉 추론을 수행하는 기술.

## 핵심 아이디어

[[팔란티어]]가 기업용으로 수백억 들여 구축하는 온톨로지 시스템을,
개인은 [[Obsidian]]과 [[NetworkX]]로 구현할 수 있다.

## Mnemo에서의 활용

[[MAISECONDBRAIN]]에서 벡터 임베딩 + 그래프 관계 탐색 하이브리드로 구현.
기존 [[Obsidian Copilot]]의 벡터만 검색보다 우수한 성능 기대.

## 참고

- [[Microsoft GraphRAG]] — 오픈소스 구현체
- [[LightRAG]] — 경량 대안
```

### 예시 2: Decision 노트

```markdown
---
type: decision
tags: [maisecondbrain, architecture]
decided: 2026-02-20
context: "[[MAISECONDBRAIN]]"
alternatives:
  - "Neo4j (별도 그래프 DB)"
  - "NetworkX (Python 인메모리)"
chosen: "NetworkX 인메모리"
rationale: "별도 DB 서버 불필요, Obsidian 볼트가 유일한 source of truth, 개인 규모에 충분"
importance: high
---

# Neo4j 대신 NetworkX 사용 결정

## 배경

[[MAISECONDBRAIN]] 프로젝트에서 지식그래프 엔진을 선택해야 했다.

## 비교

| | [[Neo4j]] | [[NetworkX]] |
|---|---|---|
| 서버 | 별도 필요 | 불필요 (인메모리) |
| 데이터 이중화 | Obsidian → Neo4j 동기화 | 볼트에서 직접 빌드 |
| 규모 | 수백만 노드 | 수만 노드 (충분) |
| Source of Truth | Neo4j가 됨 | [[Obsidian]]이 유일 |

## 결론

[[Obsidian]] 볼트 자체를 지식그래프로 사용하는 것이 핵심 철학.
별도 DB를 두면 이중 관리가 필요하고 철학에 어긋남.
```

### 예시 3: Source 노트

```markdown
---
type: source
source_type: video
tags: [ai, graphrag, ontology, podcast]
created: 2026-02-20
author: "[[평범한 사업가]]"
url: # YouTube URL
consumed: 2026-02-20
rating: 5
key_takeaways:
  - "기업 온톨로지를 개인이 옵시디언으로 구현 가능"
  - "YAML Property가 온톨로지 속성 역할"
  - "옵시디언이 개인용 최적 RAG 시스템"
related:
  - "[[GraphRAG]]"
  - "[[온톨로지]]"
  - "[[팔란티어]]"
importance: high
---

# AI 답변 성능의 핵심은 GraphRAG와 온톨로지 (팟캐스트 #74)

> 채널: 평범한 사업가 | 게스트: Sionic AI ML 엔지니어

## 요약

...

## 핵심 인사이트

1. [[팔란티어]]가 수백억 들여 만드는 온톨로지를 개인은 [[Obsidian]]으로
2. [[GraphRAG]]는 단순 벡터 검색 대비 관계 기반 맥락 추론 가능
3. YAML Property = 온톨로지 속성, [[위키링크]] = 온톨로지 관계
```

---

## 6. 스키마 확장 가이드라인

### 새 엔티티 타입 추가 시

1. `ENTITY_MAP`에 타입 + 관련 태그 추가
2. YAML 스키마에 전용 필드 정의
3. 예시 노트 1개 이상 작성
4. 이 문서(D002)에 기록

### 새 관계 타입 추가 시

1. 관계 필드명 정의 (snake_case)
2. 방향성 결정 (단방향/양방향)
3. 관계 테이블에 추가
4. 파서에 추출 로직 추가

### 점진적 도입 원칙

- **처음부터 완벽한 스키마를 목표로 하지 않는다**
- `type:` 하나만 추가해도 가치 있음
- AI 자동 분류로 기존 노트도 점진적으로 태깅
- 스키마는 사용하면서 진화시킨다

---

*Created: 2026-02-20 by MAIBOT*
