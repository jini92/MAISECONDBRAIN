# T002 — MAISECONDBRAIN (Mnemo) 종합 검증 리포트

- **작성일:** 2026-02-20
- **테스트 환경:** Windows 11, Python 3.12, Ollama (nomic-embed-text), NetworkX
- **볼트:** `~/vault` (3,096 노트)

---

## 1. 빌드 테스트

| 항목 | 결과 | 비고 |
|------|------|------|
| 볼트 파싱 | ✅ PASS | 3,096 노트, 2.4s |
| 그래프 빌드 (tag-edges) | ✅ PASS | 2,458 노드, 27,957 엣지, 2.8s |
| 캐시 저장/로드 | ✅ PASS | graph.pkl (3.5MB), checksums.json |
| 임베딩 로드 | ✅ PASS | 2,164개 (768dim) |
| 증분 빌드 (변경 없음) | ✅ PASS | "변경 없음 (캐시 갱신)" |

### 그래프 통계

| 지표 | 값 |
|------|-----|
| 노드 | 2,458 |
| 엣지 | 27,957 |
| wiki_link | 17,942 |
| related | 6,195 |
| tag_shared | 3,820 |
| 연결 컴포넌트 | 249 |
| 밀도 | 0.004629 |

### 엔티티 타입 분포

| 타입 | 수 |
|------|-----|
| event | 1,063 |
| project | 821 |
| unknown | 290 |
| note | 275 |
| source | 9 |

---

## 2. 하이브리드 검색 테스트

5개 쿼리로 검색 정확도 검증. 키워드(50%) + 벡터(30%) + 그래프 PageRank(20%) 가중치.

| # | 쿼리 | Top 1 결과 | 점수 | 확장 노드 | 판정 |
|---|------|-----------|------|----------|------|
| 1 | "MAIOSS 보안 취약점" | MAIOSS 오픈소스 보안 취약점 검증 툴 소개자료 분석_02 | 0.533 | 446 | ✅ 정확 |
| 2 | "베트남 화장품 TikTok 마케팅" | 베트남 제작 기반 1인 웨딩드레스 사업 가이드 | 0.502 | 1,430 | ⚠️ 관련 (정확 매칭은 #2-3) |
| 3 | "AI 수익화 비즈니스모델" | CBS 콘텐츠 데이터 수익화 전략_검색 AI | 0.504 | 564 | ✅ 정확 |
| 4 | "MAIAX 삼성 C&E 자동화" | 삼성 C&E 자동화 PoC 프로젝트 분석 및 미팅 계획서 | 0.804 | 899 | ✅ 매우 정확 |
| 5 | "GraphRAG 지식그래프" | 삼성 엔지니어링_C&E 자동화 시스템 - GraphRAG 적용 | 0.502 | 596 | ✅ 정확 |

**검색 정확도: 4/5 정확 (80%), 5/5 관련 (100%)**

> 쿼리 2는 TikTok+화장품 정확 매칭 노트가 적어 관련성 높은 베트남 비즈니스 노트가 1위로 올라옴. Top 2-3에 MAIBEAUTY 관련 노트 포함.

---

## 3. Daily Enrichment 파이프라인 테스트

| 단계 | 결과 | 비고 |
|------|------|------|
| [1/7] 볼트 파싱 | ✅ PASS | 3,096 + 23 memory |
| [2/7] 타입/프로젝트 보강 | ✅ PASS | 0 신규 (기존 보강 완료) |
| [3/7] 관련 링크 보강 | ✅ PASS | 0 신규 (기존 보강 완료) |
| [4/7] 콘텐츠 태그/백링크 | ✅ PASS | 0 신규 (기존 보강 완료) |
| [5/7] 그래프 리빌드 | ✅ PASS | 2,481 노드, 29,352 엣지 |
| [6/7] 임베딩 업데이트 | ✅ PASS | 2,173 (+9 신규) |
| [7/7] 외부 지식 수집 | ✅ PASS | 20개 새 노트 저장 |
| **총 소요** | **39.1s** | |

> 이전 보강이 이미 완료된 상태라 struct/related/content 모두 0이 정상. 신규 노트 추가 시 자동으로 보강됨. 외부 지식 수집(YouTube+Brave)이 성공적으로 20개 새 노트 생성.

---

## 4. 캐시 경로 이슈 (발견 → 해결)

**문제:** `python -m mnemo.cli` 실행 시 CWD 기준 `.mnemo/` 경로 사용 → `src/` 에서 실행하면 `src/.mnemo/`, 루트에서 실행하면 `.mnemo/`로 달라짐.

**영향:** 임베딩이 루트 `.mnemo/embeddings/`에 있었으나, CLI가 `src/.mnemo/`를 참조하면서 `Embeddings: 0` 출력.

**해결:** 임베딩을 `src/.mnemo/embeddings/`로 복사 후 정상 동작 확인.

**권장 조치:** CLI의 `--cache-dir` 기본값을 절대경로 또는 프로젝트 루트 기준으로 변경 필요.

---

## 5. 모듈 현황

| 모듈 | 파일 | 상태 |
|------|------|------|
| 볼트 파서 | parser.py | ✅ 안정 |
| 온톨로지 분류 | ontology.py | ✅ 안정 |
| 그래프 빌더 | graph_builder.py | ✅ 안정 (tag_shared 포함) |
| 캐시 | cache.py | ⚠️ 경로 주의 |
| 임베딩 | embedder.py | ✅ 안정 (min 50char 필터) |
| 벡터 검색 | vector_search.py | ✅ 안정 |
| 그래프 검색 | graph_search.py | ✅ 안정 |
| 하이브리드 검색 | hybrid_search.py | ✅ 안정 |
| GraphRAG | graphrag.py | ✅ 안정 |
| API 서버 | api.py | ⚠️ 미검증 (포트 바인딩 지연) |
| 보강기 | enricher.py | ✅ 안정 |
| 콘텐츠 링커 | content_linker.py | ✅ 안정 |
| CLI | cli.py | ✅ 안정 |
| 외부 수집기 | collectors/ | ✅ 신규 (trust 평가 포함) |
| 데일리 보강 | daily_enrich.py | ✅ 안정 (7단계 파이프라인) |

**안정: 13/15, 주의: 2/15 (cache 경로, API 서버)**

---

## 6. 개선 권장사항

### 즉시 (P0)
1. **캐시 경로 통일**: `cache.py`/`cli.py`에서 프로젝트 루트 기준 절대경로 사용
2. **`.mnemo/` 중복 제거**: 루트와 src/ 둘 다 있으면 혼란 → 루트만 유지

### 단기 (P1)
3. **API 서버 검증**: 포트 바인딩/health 엔드포인트 테스트
4. **검색 정확도 향상**: 베트남+화장품+TikTok 같은 다중 키워드 복합 쿼리 개선
5. **daily_enrich 크론 등록**: 자동 실행 설정

### 중기 (P2)
6. **임베딩 모델 업그레이드**: nomic-embed-text → 한국어 특화 모델 (예: multilingual-e5-large)
7. **Obsidian 플러그인 개발** (Phase 2)

---

## 7. 종합 평가

| 영역 | 점수 | 평가 |
|------|------|------|
| 빌드 안정성 | ⭐⭐⭐⭐⭐ | 2.8초 빌드, 증분 캐시 완벽 |
| 검색 정확도 | ⭐⭐⭐⭐ | 80% 정확, 100% 관련 |
| 보강 파이프라인 | ⭐⭐⭐⭐⭐ | 7단계 자동화, 멱등성 보장 |
| 코드 품질 | ⭐⭐⭐⭐ | 모듈화 양호, 캐시 경로만 개선 |
| 성능 | ⭐⭐⭐⭐⭐ | 3K 노트 풀 파이프라인 39초 |
| **종합** | **⭐⭐⭐⭐½** | **Phase 1 프로덕션 레디** |

---

_Phase 1 (MAIBOT 적용) 완료. Phase 2 (Obsidian 플러그인) 진행 가능._
